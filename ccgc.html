<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inventaire CCGC</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body { font-family: Arial, sans-serif; background:#fff; padding:15px; }
h1 { text-align:center; }
.card { background:#fff; border-radius:12px; padding:15px; margin-bottom:15px; }
.section { font-weight:bold; margin:10px 0; }
.item { display:flex; align-items:center; margin-bottom:10px; }
.item input { width:24px; height:24px; margin-right:12px; }
textarea { width:100%; min-height:100px; padding:10px; font-size:16px; }
button { width:100%; padding:15px; font-size:18px; background:#007bff; color:#fff; border:none; border-radius:10px; }
</style>
</head>

<body>

<!-- LOGO -->
<div style="text-align:center; margin-bottom:15px;">
    <img src="logo_sdis76.jpg" style="max-width:120px;">
</div>

<h1>Inventaire CCGC</h1>

<div class="card">
    <input type="text" id="nom" placeholder="Nom" style="width:100%;padding:10px;"><br><br>
    <input type="date" id="date" style="width:100%;padding:10px;">
</div>

<div class="card" id="inventaire">

<div class="section">CABINE ARRIERE</div>
<div class="item"><input type="checkbox" value="Gilet haute visiblit√© / Qte x3">Gilet haute visiblit√© / Qte x3</div>
<div class="item"><input type="checkbox" value="Cl√© du v√©hicule">Cl√© du v√©hicule</div>
<div class="item"><input type="checkbox" value="Masque FFP1 et FFP2">Masque FFP1 et FFP2</div>
<div class="item"><input type="checkbox" value="Boite de gants">Boite de gants</div>
<div class="item"><input type="checkbox" value="Lampe avec support / Qte x2">Lampe avec support / Qte x2</div>
<div class="item"><input type="checkbox" value="Trousse de secours / Qte x1">Trousse de secours / Qte x1</div>
<div class="item"><input type="checkbox" value="Plan for√™t / Qte x1">Plan for√™t / Qte x1</div>
<div class="item"><input type="checkbox" value="Document for√™t / Qte x1">Document for√™t / Qte x1</div>
<div class="item"><input type="checkbox" value="Classeur plan / Qte x2">Classeur plan / Qte x2</div>
<div class="item"><input type="checkbox" value="Carnet de message / Qte x1">Carnet de message / Qte x1</div>

<div class="section">COFFRE AVANT GAUCHE</div>
<div class="item"><input type="checkbox" value="Aspiraux / Qte x4">Aspiraux / Qte x4</div>
<div class="item"><input type="checkbox" value="Cale de roue / Qte x2">Cale de roue / Qte x2</div>
<div class="item"><input type="checkbox" value="Caisse casque F2 + b√¢che / Qte x1">Caisse casque F2 + b√¢che / Qte x1</div>
<div class="item"><input type="checkbox" value="Barre descente piscine / Qte x1">Barre descente piscine / Qte x1</div>
<div class="item"><input type="checkbox" value="Moto pompe flottante / Qte x1">Moto pompe flottante / Qte x1</div>
<div class="item"><input type="checkbox" value="Jerrycan d'essence / Qte x1">Jerrycan d'essence/ Qte x1</div>
<div class="item"><input type="checkbox" value="Cr√©pine / Qte x1">Cr√©pine / Qte x1</div>
<div class="item"><input type="checkbox" value="Pochette noir avec kit / Qte x2">Pochette noir avec kit / Qte x2</div>
<div class="item"><input type="checkbox" value="Extincteur poudre 9kg / Qte x1">Extincteur poudre 9kg / Qte x1</div>

<div class="section">COFFRE ARRIERE GAUCHE</div>
<div class="item"><input type="checkbox" value="Tuyaux 70x20m / Qte x4">Tuyaux 70x20m / Qte x4</div>
<div class="item"><input type="checkbox" value="Cl√© bouche √† incendie / Qte x1">Cl√© bouche √† incendie / Qte x1</div>
<div class="item"><input type="checkbox" value="Division DN 65/2x40 / Qte x1">Division DN 65/2x40 / Qte x1</div>
<div class="item"><input type="checkbox" value="Division DN 100/2x65 / Qte x1">Division DN 100/2x65 / Qte x1</div>
<div class="item"><input type="checkbox" value="Tuyaux 70x10m / Qte x1">Tuyaux 70x20m / Qte x1</div>
<div class="item"><input type="checkbox" value="Tuyaux 110x10m / Qte x1">Tuyaux 110x20m / Qte x1</div>

<div class="section">COFFRE AVANT DROIT</div>
<div class="item"><input type="checkbox" value="Caisse avec cordage + serpe + petite pince / Qte x1">Caisse avec cordage + serpe + petite pince / Qte x1</div>
<div class="item"><input type="checkbox" value="Caisse prolongation √©lectrique">Caisse prolongation √©lectrique</div>
<div class="item"><input type="checkbox" value="Casque F2 / Qte x2">Casque F2 / Qte x2</div>
<div class="item"><input type="checkbox" value="Moto pompe flottante / Qte x1">Moto pompe flottante / Qte x1</div>
<div class="item"><input type="checkbox" value="Bouteilles d'eau">Bouteilles d'eau</div>

<div class="section">COFFRE ARRIERE DROIT</div>
<div class="item"><input type="checkbox" value="Hydro ejecteur / Qte x1">Hydro ejecteur / Qte x1</div>
<div class="item"><input type="checkbox" value="Canne plongeuse / Qte x1">Canne plongeuse  / Qte x1</div>
<div class="item"><input type="checkbox" value="LM2 / Qte x1">LM2 / Qte x1</div>
<div class="item"><input type="checkbox" value="LDMR500 / Qte x1">LDMR500 / Qte x1</div>
<div class="item"><input type="checkbox" value="LDV1000" / Qte x1>LDV1000 / Qte x1</div>
<div class="item"><input type="checkbox" value="Queue de paon / Qte x1">Queue de paon / Qte x1</div>
<div class="item"><input type="checkbox" value="Division DN 65x65/2x40 / Qte x1">Division DN 65x65/2x40 / Qte x1</div>
<div class="item"><input type="checkbox" value="Coupe boulon / Qte x1">Coupe boulon / Qte x1</div>
<div class="item"><input type="checkbox" value="Commande / Qte x1">Commande / Qte x1</div>

<div class="section">CAISSE DECONTAMINATION</div>
<div class="item"><input type="checkbox" value="kit d√©contamination complet">Kit d√©contamination complet (Bo√Æte de gants / rouleau de papier / sac poubelle/ lingettes / produit vaisselle / masque FFP3 / 3 chemises F1 / brosse / √©ponges /draps VSAV)</div>

<div class="section">COFFRE ARRIERE</div>
<div class="item"><input type="checkbox" value="Cl√© de poteau + 4 tricoises + manivelle + raccord de r√©duction + coude + retenue + collecteur">Cl√© de poteau + 4 tricoises + manivelle + raccord de r√©duction + coude + retenue + collecteur</div>

<div class="section">ARRIERE DE L'ENGIN</div>
<div class="item"><input type="checkbox" value="D√©vidoir avec tuyaux de diam√®tre 45x20m + 1 LDMR avec sa vanne d'arr√™t + rallonge remplissage piscine">D√©vidoir avec tuyaux de diam√®tre 45x20M + 1 LDMR avec sa vanne d'arr√™t + rallonge remplissage piscine</div>

<div class="section">COFFRE DE TOIT</div>
<div class="item"><input type="checkbox" value="C√¥ne de lubeck / Qte x6">C√¥ne de lubeck / Qte x6</div>
<div class="item"><input type="checkbox" value="Cr√©pine / Qte x1">Cr√©pine/ Qte x1</div>
<div class="item"><input type="checkbox" value="Flotteur / Qte x1">Flotteur / Qte x1</div>
<div class="item"><input type="checkbox" value="Coupe boulon / Qte x1">Coupe boulon / Qte x1</div>
<div class="item"><input type="checkbox" value="Batte √† feu / Qte x1">Batte √† feu / Qte x1</div>
<div class="item"><input type="checkbox" value="Raclette / Qte x2">Raclette / Qte x2</div>
<div class="item"><input type="checkbox" value="Masse / Qte x1">Masse / Qte x1</div>
<div class="item"><input type="checkbox" value="Fourche droite / Qte x1">Fourche droite / Qte x1</div>
<div class="item"><input type="checkbox" value="Fourche recourb√©e / Qte x1">Fourche recourb√©e / Qte x1</div>
<div class="item"><input type="checkbox" value="Pelle / Qte x1">Pelle / Qte x1</div>
<div class="item"><input type="checkbox" value="Pioche / Qte x1">Pioche / Qte x1</div>
<div class="item"><input type="checkbox" value="Hache / Qte x1">Hache / Qte x1</div>
<div class="item"><input type="checkbox" value="Aspiraux / Qte x1">Aspiraux / Qte x1</div>
<div class="item"><input type="checkbox" value="Adaptateur mousse canon / Qte x1">Adaptateur mousse canon / Qte x1</div>
<div class="item"><input type="checkbox" value="Surpantalon tron√ßonneuse / Qte x1">Surpantalon tron√ßonneuse / Qte x1</div>
<div class="item"><input type="checkbox" value="Jerrycan d'essence / Qte x1">Jerrycan d'essence / Qte x1</div>
<div class="item"><input type="checkbox" value="Tron√ßonneuse / Qte x1">Tron√ßonneuse / Qte x1</div>
<div class="item"><input type="checkbox" value="Lance canon avec tableau de contr√¥le / Qte x1">Lance canon avec tableau de contr√¥le / Qte x1</div>

<div class="section">TOIT DE L'ENGIN</div>
<div class="item"><input type="checkbox" value="Piscine + b√¢che">Piscine + b√¢che</div>


</div>

<!-- OBSERVATIONS -->
<div class="card">
    <h3>Observations</h3>
    <textarea id="observations" placeholder="Mat√©riel manquant, d√©fectueux, remarques..."></textarea>
</div>

<button onclick="genererPDF()">üìÑ G√©n√©rer l'inventaire en PDF</button>

<script>
function genererPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    let y = 15;

    // TITRE
    doc.setFontSize(14);
    doc.text("Inventaire CCGC", 10, y);
    y += 10;

    // INFOS
    doc.setFontSize(11);
    doc.text("Nom : " + document.getElementById("nom").value, 10, y);
    y += 7;
    const dateInput = document.getElementById("date").value;
let dateFr = "";

if (dateInput) {
    const [annee, mois, jour] = dateInput.split("-");
    dateFr = jour + "/" + mois + "/" + annee;
}

doc.text("Date : " + dateFr, 10, y);

    y += 10;

    const inventaire = document.getElementById("inventaire").children;

    for (let i = 0; i < inventaire.length; i++) {
        const el = inventaire[i];

        // SECTION
        if (el.classList.contains("section")) {
            if (y > 260) { doc.addPage(); y = 15; }

            y += 6;
            doc.setFontSize(12);
            doc.text(el.textContent.toUpperCase(), 10, y);
            y += 6;
        }

        // ITEM
        if (el.classList.contains("item")) {
            const cb = el.querySelector("input");
            const label = cb.value;
            const ligne = (cb.checked ? "[X] " : "[ ] ") + label;

            doc.setFontSize(10);
            doc.text(ligne, 15, y);
            y += 6;

            if (y > 270) {
                doc.addPage();
                y = 15;
            }
        }
    }

    // OBSERVATIONS
    y += 8;
    if (y > 250) { doc.addPage(); y = 15; }

    doc.setFontSize(12);
    doc.text("OBSERVATIONS", 10, y);
    y += 6;

    doc.setFontSize(10);
    const obs = document.getElementById("observations").value || "Aucune";
    doc.text(doc.splitTextToSize(obs, 180), 10, y);

    doc.save("Inventaire_CCGC.pdf");
}
</script>



</body>
</html>
